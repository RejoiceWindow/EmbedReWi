import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as e,d as a,o as l}from"./app-DIMvcjhy.js";const n={};function h(t,i){return l(),e("div",null,i[0]||(i[0]=[a(`<h2 id="linux-shell-时间格式化" tabindex="-1"><a class="header-anchor" href="#linux-shell-时间格式化"><span>linux shell 时间格式化</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">date</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;+%Y-%m-%d %H:%M:%S&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="shell-中的-set-e-set-e-用法" tabindex="-1"><a class="header-anchor" href="#shell-中的-set-e-set-e-用法"><span>shell 中的 set -e ， set +e 用法</span></a></h2><blockquote><p><a href="https://www.jianshu.com/p/277ef9d192a2" target="_blank" rel="noopener noreferrer">https://www.jianshu.com/p/277ef9d192a2</a></p></blockquote><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>也就是说，在&quot;set -e&quot;之后出现的代码，一旦出现了返回值非零，整个脚本就会立即退出。有的人喜欢使用这个参数，是出于保证代码安全性的考虑。但有的时候，这种美好的初衷，也会导致严重的问题。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="log-到文件" tabindex="-1"><a class="header-anchor" href="#log-到文件"><span>LOG 到文件</span></a></h2><h3 id="tee-命令" tabindex="-1"><a class="header-anchor" href="#tee-命令"><span>tee 命令</span></a></h3><p>如果你想在终端和文件中同时查看输入和输出,你可以使用&#39;tee&#39;命令,这个命令可以将标<br> 准输入和标准输出复制到文件并显示在终端上。以下是一个示例 الا:</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> your_script.py</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> output.log</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在这个示例中,<code>your_script.py&#39;是你的Python脚本,&#39;output.1og&#39;是你想要保存输出的 文件名。这个命令会同时在终端上显示输出,并将其写入</code>output.log.文件。<br> 请注意,&#39;tee&#39;命令通常在 Unix/Linux 系统上可用,如果你使用的是 Windows 系统,你可以<br> 考虑使用 Windows 版本的&#39;tee&#39;或其他类似工具。</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">## 用脚本这样：</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">python3</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> main.py</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">tee</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;AAA$(</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">date</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> +&#39;%Y%m%d%H%M%S&#39;)BBB.log&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="查看占用空间" tabindex="-1"><a class="header-anchor" href="#查看占用空间"><span>查看占用空间</span></a></h2><h3 id="方法-1-使用-du-命令" tabindex="-1"><a class="header-anchor" href="#方法-1-使用-du-命令"><span>方法 1：使用 du 命令</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>du（disk usage）命令用于查看目录或文件的磁盘占用情况。</p></div><p>查看当前目录下所有文件和子目录的空间占用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">du</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sh</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>-s</code>：汇总每个文件或目录的总大小。<br><code>-h</code>：以人类可读的格式显示（如 KB、MB、GB）。<br> 查看当前目录的总大小：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">du</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看当前目录及其子目录的详细空间占用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">du</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ah.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>-a</code>：显示所有文件和目录，包括隐藏文件。<br> 查看指定目录的空间占用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">du</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -sh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/directory</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="方法-2-使用-ls-命令" tabindex="-1"><a class="header-anchor" href="#方法-2-使用-ls-命令"><span>方法 2：使用 ls 命令</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>ls（list）命令用于列出目录中的文件和子目录。<br> ls 命令可以列出文件及其大小</p></div><p>查看当前目录下的所有文件和子目录：<br> 查看当前目录下文件的大小（以人类可读的格式）：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -lh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>-l</code>：以长格式显示文件和目录的详细信息。<br><code>-h</code>：以人类可读的格式显示文件大小（如 KB、MB、GB）。</p><p>查看指定目录下的文件和子目录：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -lh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/directory</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看当前目录下文件的总大小：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -l</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">awk</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;{ total += $5 } END { print total }&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这会将当前目录下所有文件的大小相加，并输出总字节数。</p><h3 id="方法-3-使用-df-命令" tabindex="-1"><a class="header-anchor" href="#方法-3-使用-df-命令"><span>方法 3：使用 df 命令</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p><code>df</code> 是一个在 Unix 和类 Unix 操作系统（如 Linux 和 macOS）中用于显示磁盘空间使用情况的命令。它的名称代表“disk free”，即用来展示磁盘上的空闲空间。通过 <code>df</code> 命令，用户可以查看各个挂载点的磁盘使用情况、已用空间、可用空间以及文件系统的挂载位置等信息。</p><p><code>df（disk free）</code>命令用于查看文件系统的磁盘空间使用情况。</p></div><ul><li><p><strong>查看所有挂载点的磁盘使用情况：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这条命令会列出所有已挂载文件系统的磁盘使用情况，默认情况下以 KB 为单位显示。</p></li><li><p><strong>以人类可读的形式显示（通常为 KB, MB, GB）：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使用 <code>-h</code> 参数可以让输出更加易读，自动调整单位（K, M, G 等）。</p></li><li><p><strong>显示 inode 信息而非块使用情况：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>对于一些需要关注文件数量而非数据块占用的情况很有用。</p></li><li><p><strong>显示特定文件系统类型的信息：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -t</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ext4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>只显示指定类型（这里是 ext4 类型）的文件系统的磁盘使用情况。</p></li><li><p><strong>排除某些类型的文件系统：</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -x</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> tmpfs</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>排除某种类型（例如临时文件系统 tmpfs）的磁盘使用情况报告。</p></li></ul><h3 id="输出示例" tabindex="-1"><a class="header-anchor" href="#输出示例"><span>输出示例</span></a></h3><p>执行 <code>df -h</code> 后，你可能会看到类似下面的输出：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>Filesystem      Size  Used Avail Use% Mounted on</span></span>
<span class="line"><span>/dev/sda1        50G   20G   28G  42% /</span></span>
<span class="line"><span>tmpfs           1.9G     0  1.9G   0% /dev/shm</span></span>
<span class="line"><span>...</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中，</p><ul><li><code>Size</code>: 文件系统的总大小。</li><li><code>Used</code>: 已使用的空间。</li><li><code>Avail</code>: 可用的空间。</li><li><code>Use%</code>: 已用空间的百分比。</li><li><code>Mounted on</code>: 文件系统的挂载点。</li></ul><p>查看指定文件系统的空间占用：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">df</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -h</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /dev/sda1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="方法-4-使用-stat-命令" tabindex="-1"><a class="header-anchor" href="#方法-4-使用-stat-命令"><span>方法 4：使用 stat 命令</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>stat（status）命令用于显示文件或目录的详细信息，包括文件大小、权限、所有者等。</p></div><p>查看当前目录下的所有文件和子目录的详细信息：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">stat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%n %s %y&quot;</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> *</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>-c</code>：指定输出格式。<br><code>%n</code>：文件名。<br><code>%s</code>：文件大小。<br><code>%y</code>：文件的最后修改时间。<br> 查看指定文件的详细信息：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">stat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;%n %s %y&quot;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/file</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="第三方工具" tabindex="-1"><a class="header-anchor" href="#第三方工具"><span>第三方工具</span></a></h3><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>ncdu：一个交互式的磁盘使用分析工具。 安装方法：</p></div><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> apt</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ncdu</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Ubuntu/Debian</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ncdu</span><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">      # macOS</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用方法：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ncdu</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/directory</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查找文件或目录" tabindex="-1"><a class="header-anchor" href="#查找文件或目录"><span>查找文件或目录</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>find（find）命令用于在文件系统中查找文件或目录。</p></div><p>查找当前目录下的所有文件和子目录：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> .</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>-type f</code>：查找文件。<br><code>-type d</code>：查找目录。<br> 查找指定目录下的所有文件和子目录：</p><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">find</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /path/to/directory</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> f</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> d</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看占用端口" tabindex="-1"><a class="header-anchor" href="#查看占用端口"><span>查看占用端口</span></a></h2><div class="language-shell line-numbers-mode" data-highlighter="shiki" data-ext="shell" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">netstat</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -anp</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 8000</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="查看ip地址" tabindex="-1"><a class="header-anchor" href="#查看ip地址"><span>查看ip地址</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>在 Linux 系统中，即使使用非 root 用户，也可以通过以下命令查看 IP 地址。</p></div><h3 id="_1-ip-addr-或-ip-a" tabindex="-1"><a class="header-anchor" href="#_1-ip-addr-或-ip-a"><span>1. <strong><code>ip addr</code> 或 <code>ip a</code></strong></span></a></h3><p>这是现代 Linux 系统中最常用的命令之一，用于显示网络接口的详细信息，包括 IP 地址。</p><ul><li><p>命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> addr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或简写为：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> a</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>输出示例：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span></span>
<span class="line"><span>    link/ether 52:54:00:12:34:56 brd ff:ff:ff:ff:ff:ff</span></span>
<span class="line"><span>    inet 192.168.1.100/24 brd 192.168.1.255 scope global dynamic eth0</span></span>
<span class="line"><span>       valid_lft 86399sec preferred_lft 86399sec</span></span>
<span class="line"><span>    inet6 fe80::5054:ff:fe12:3456/64 scope link</span></span>
<span class="line"><span>       valid_lft forever preferred_lft forever</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>inet</code> 行表示 IPv4 地址。</li><li><code>inet6</code> 行表示 IPv6 地址。</li></ul></li></ul><hr><h3 id="_2-ifconfig" tabindex="-1"><a class="header-anchor" href="#_2-ifconfig"><span>2. <strong><code>ifconfig</code></strong></span></a></h3><p>虽然 <code>ifconfig</code> 已被 <code>ip</code> 命令取代，但在一些旧系统或安装了 <code>net-tools</code> 包的系统中仍然可以使用。</p><ul><li><p>命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ifconfig</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>输出示例：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>eth0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span></span>
<span class="line"><span>      inet 192.168.1.100  netmask 255.255.255.0  broadcast 192.168.1.255</span></span>
<span class="line"><span>      inet6 fe80::5054:ff:fe12:3456  prefixlen 64  scopeid 0x20&lt;link&gt;</span></span>
<span class="line"><span>      ether 52:54:00:12:34:56  txqueuelen 1000  (Ethernet)</span></span>
<span class="line"><span>      RX packets 12345  bytes 12345678 (12.3 MB)</span></span>
<span class="line"><span>      TX packets 6789  bytes 9876543 (9.8 MB)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>inet</code> 行表示 IPv4 地址。</li><li><code>inet6</code> 行表示 IPv6 地址。</li></ul></li></ul><hr><h3 id="_3-hostname-i" tabindex="-1"><a class="header-anchor" href="#_3-hostname-i"><span>3. <strong><code>hostname -I</code></strong></span></a></h3><p><code>hostname</code> 命令可以直接显示当前主机的所有 IP 地址（不包括回环地址）。</p><ul><li><p>命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>输出示例：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>192.168.1.100 172.17.0.1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>显示所有分配给主机的非回环 IP 地址。</li></ul></li></ul><hr><h3 id="_4-nmcli" tabindex="-1"><a class="header-anchor" href="#_4-nmcli"><span>4. <strong><code>nmcli</code></strong></span></a></h3><p>如果你的系统使用 NetworkManager 管理网络，可以使用 <code>nmcli</code> 命令查看 IP 地址。</p><ul><li><p>命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>输出示例：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>GENERAL.DEVICE:                         eth0</span></span>
<span class="line"><span>GENERAL.TYPE:                           ethernet</span></span>
<span class="line"><span>GENERAL.IP-IFACE:                       eth0</span></span>
<span class="line"><span>IP4.ADDRESS[1]:                         192.168.1.100/24</span></span>
<span class="line"><span>IP4.GATEWAY:                            192.168.1.1</span></span>
<span class="line"><span>IP6.ADDRESS[1]:                         fe80::5054:ff:fe12:3456/64</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="自定义命令行提示符的显示内容" tabindex="-1"><a class="header-anchor" href="#自定义命令行提示符的显示内容"><span>自定义命令行提示符的显示内容</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>在 Linux 或类 Unix 系统中，<code>PS1</code> 是一个环境变量，用于定义 <strong>shell 提示符（Prompt String 1）</strong> 的格式。通过设置 <code>PS1</code>，可以自定义命令行提示符的显示内容。</p></div><p>下面分析这条命令的作用：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">setPS1</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;[\\u\\w\\t]</span><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">\\\\</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">$&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">; </span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">export</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> PS1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="分解命令" tabindex="-1"><a class="header-anchor" href="#分解命令"><span><strong>分解命令</strong></span></a></h3><ol><li><p><strong><code>setPS1=&quot;[\\u\\w\\t]\\\\$&quot;</code></strong></p><ul><li>这里定义了一个变量 <code>setPS1</code>，其值为 <code>[\\u\\w\\t]\\\\$</code>。</li><li>该值是一个字符串，表示 shell 提示符的格式。</li><li>具体含义如下： <ul><li><code>\\u</code>：当前用户的用户名。</li><li><code>\\w</code>：当前工作目录的完整路径。</li><li><code>\\t</code>：当前时间，格式为 <code>HH:MM:SS</code>。</li><li><code>\\\\$</code>：普通用户显示 <code>$</code>，root 用户显示 <code>#</code>。</li></ul></li></ul></li><li><p><strong><code>export PS1</code></strong></p><ul><li>将变量 <code>PS1</code> 导出为环境变量。</li><li><code>PS1</code> 是 shell 的特殊变量，控制命令行提示符的显示格式。</li><li>在这里，<code>PS1</code> 被设置为 <code>setPS1</code> 的值 <code>[username/path/time]$</code>。</li></ul></li></ol><hr><h3 id="实际效果" tabindex="-1"><a class="header-anchor" href="#实际效果"><span><strong>实际效果</strong></span></a></h3><p>执行上述命令后，命令行提示符会变成类似以下格式：</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>[username/current_directory/HH:MM:SS]$</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="关键点解释" tabindex="-1"><a class="header-anchor" href="#关键点解释"><span><strong>关键点解释</strong></span></a></h3><ol><li><p><strong><code>\\u</code>、<code>\\w</code>、<code>\\t</code> 等转义字符</strong></p><ul><li>这些是 Bash 提供的特殊转义字符，用于动态生成提示符的内容。</li><li>常见的转义字符包括： <ul><li><code>\\u</code>：当前用户名。</li><li><code>\\h</code>：主机名（短格式）。</li><li><code>\\H</code>：主机名（完整格式）。</li><li><code>\\w</code>：当前工作目录的完整路径。</li><li><code>\\W</code>：当前工作目录的最后部分（basename）。</li><li><code>\\t</code>：当前时间（24 小时制，格式为 <code>HH:MM:SS</code>）。</li><li><code>\\A</code>：当前时间（24 小时制，格式为 <code>HH:MM</code>）。</li><li><code>\\$</code>：普通用户显示 <code>$</code>，root 用户显示 <code>#</code>。</li></ul></li></ul></li><li><p><strong><code>export</code> 的作用</strong></p><ul><li><code>export</code> 命令将变量导出为环境变量，使其对当前 shell 和子 shell 生效。</li><li>如果不使用 <code>export</code>，变量只会在当前 shell 中有效。</li></ul></li></ol><hr><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span><strong>注意事项</strong></span></a></h3><ol><li><p><strong>临时生效</strong></p><ul><li><p>上述命令只会临时修改提示符，关闭终端后恢复默认设置。</p></li><li><p>如果希望永久生效，可以将 <code>PS1</code> 的设置添加到配置文件（如 <code>~/.bashrc</code> 或 <code>~/.bash_profile</code>）中：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &#39;export PS1=&quot;[\\u\\w\\t]\\\\$&quot;&#39;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &gt;&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">~/.bashrc</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ~/.bashrc</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>不同 Shell 的支持</strong></p><ul><li>上述命令适用于 Bash Shell。</li><li>如果使用其他 Shell（如 Zsh），提示符的设置方式可能不同。</li></ul></li></ol><hr><h2 id="创建用户" tabindex="-1"><a class="header-anchor" href="#创建用户"><span>创建用户</span></a></h2><div class="hint-container info"><p class="hint-container-title">相关信息</p><p>在 Linux 系统中，可以使用 <code>useradd</code> 命令创建一个新用户，并通过指定参数为其设置自定义的家目录。</p></div><hr><h3 id="关键参数" tabindex="-1"><a class="header-anchor" href="#关键参数"><span><strong>关键参数</strong></span></a></h3><ol><li><p><strong><code>-d</code> 或 <code>--home</code></strong></p><ul><li>用于指定用户的家目录路径。</li><li>如果不指定，默认会在 <code>/home/用户名</code> 下创建家目录。</li></ul></li><li><p><strong><code>-m</code> 或 <code>--create-home</code></strong></p><ul><li>强制创建用户的家目录（即使默认情况下不会创建）。</li><li>如果指定了 <code>-d</code> 参数但未指定 <code>-m</code>，可能会导致家目录未被创建。</li></ul></li><li><p><strong><code>-s</code> 或 <code>--shell</code></strong></p><ul><li>指定用户的默认登录 shell（如 <code>/bin/bash</code>、<code>/bin/zsh</code> 等）。</li></ul></li><li><p><strong><code>-g</code> 或 <code>--gid</code></strong></p><ul><li>指定用户的主组。</li></ul></li><li><p><strong><code>-G</code> 或 <code>--groups</code></strong></p><ul><li>指定用户所属的附加组（多个组用逗号分隔）。</li></ul></li></ol><hr><h3 id="命令格式" tabindex="-1"><a class="header-anchor" href="#命令格式"><span><strong>命令格式</strong></span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">家目录路</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">径&gt; </span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">-m</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">名&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="示例" tabindex="-1"><a class="header-anchor" href="#示例"><span><strong>示例</strong></span></a></h3><h4 id="示例-1-创建用户并指定家目录" tabindex="-1"><a class="header-anchor" href="#示例-1-创建用户并指定家目录"><span>示例 1：创建用户并指定家目录</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alice</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>创建用户 <code>alice</code>，并将其家目录设置为 <code>/custom/home/alice</code>。</li><li><code>-m</code> 参数确保家目录被创建。</li></ul><h4 id="示例-2-创建用户并指定家目录和默认-shell" tabindex="-1"><a class="header-anchor" href="#示例-2-创建用户并指定家目录和默认-shell"><span>示例 2：创建用户并指定家目录和默认 shell</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/bob</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /bin/zsh</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> bob</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>创建用户 <code>bob</code>，家目录为 <code>/custom/home/bob</code>，默认 shell 为 <code>/bin/zsh</code>。</li></ul><h4 id="示例-3-创建用户并指定家目录和主组" tabindex="-1"><a class="header-anchor" href="#示例-3-创建用户并指定家目录和主组"><span>示例 3：创建用户并指定家目录和主组</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/charlie</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> developers</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> charlie</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>创建用户 <code>charlie</code>，家目录为 <code>/custom/home/charlie</code>，主组为 <code>developers</code>。</li></ul><hr><h3 id="验证" tabindex="-1"><a class="header-anchor" href="#验证"><span><strong>验证</strong></span></a></h3><ol><li><p><strong>检查用户是否创建成功</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">id</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">名&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">id</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alice</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>检查家目录是否创建</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ld</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">名&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -ld</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>切换到新用户并验证</strong></p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">名&gt;</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">pwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">su</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> -</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alice</span></span>
<span class="line"><span style="--shiki-light:#0184BC;--shiki-dark:#56B6C2;">pwd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="注意事项-1" tabindex="-1"><a class="header-anchor" href="#注意事项-1"><span><strong>注意事项</strong></span></a></h3><ol><li><p><strong>权限问题</strong></p><ul><li>使用 <code>useradd</code> 命令需要管理员权限（即使用 <code>sudo</code>）。</li><li>家目录的权限通常会自动设置为用户拥有（<code>drwx------</code>），但如果手动创建家目录，需要确保权限正确。</li></ul></li><li><p><strong>手动创建家目录</strong><br> 如果不想使用 <code>-m</code> 参数，可以手动创建家目录并设置权限：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mkdir</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chown</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alice:alice</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> chmod</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 700</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>默认配置文件</strong></p><ul><li><p>新用户的家目录通常会从 <code>/etc/skel</code> 中复制默认配置文件（如 <code>.bashrc</code>、<code>.profile</code> 等）。</p></li><li><p>如果使用非标准家目录路径，可能需要手动复制这些文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> cp</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/skel/.</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;">*</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">用户</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">名&gt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li></ol><hr><p>示例完整命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> useradd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -d</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /custom/home/alice</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -m</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -s</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /bin/bash</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -g</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> users</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> alice</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,124)]))}const p=s(n,[["render",h]]),k=JSON.parse(`{"path":"/OS/Linux/Linux%E5%91%BD%E4%BB%A4.html","title":"Linux命令","lang":"zh-CN","frontmatter":{"title":"Linux命令","date":"2023-08-09T15:00:00.000Z","icon":"clarity:command-solid","tags":["Linux"],"categories":["OS"],"description":"linux shell 时间格式化 shell 中的 set -e ， set +e 用法 https://www.jianshu.com/p/277ef9d192a2 LOG 到文件 tee 命令 如果你想在终端和文件中同时查看输入和输出,你可以使用'tee'命令,这个命令可以将标 准输入和标准输出复制到文件并显示在终端上。以下是一个示例 الا: ...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Linux命令\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2023-08-09T15:00:00.000Z\\",\\"dateModified\\":\\"2025-04-10T08:26:00.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://gitee.com/re-wi\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://github.com/Re-Wi/\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"RejoiceWindow\\"}]}"],["meta",{"property":"og:url","content":"https://em.rewi.xyz/OS/Linux/Linux%E5%91%BD%E4%BB%A4.html"}],["meta",{"property":"og:site_name","content":"EmbedReWi"}],["meta",{"property":"og:title","content":"Linux命令"}],["meta",{"property":"og:description","content":"linux shell 时间格式化 shell 中的 set -e ， set +e 用法 https://www.jianshu.com/p/277ef9d192a2 LOG 到文件 tee 命令 如果你想在终端和文件中同时查看输入和输出,你可以使用'tee'命令,这个命令可以将标 准输入和标准输出复制到文件并显示在终端上。以下是一个示例 الا: ..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-10T08:26:00.000Z"}],["meta",{"property":"article:tag","content":"Linux"}],["meta",{"property":"article:published_time","content":"2023-08-09T15:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-10T08:26:00.000Z"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://em.rewi.xyz/rss.xml","title":"EmbedReWi RSS Feed"}]]},"git":{"createdTime":1744190699000,"updatedTime":1744273560000,"contributors":[{"name":"ReWi","username":"","email":"RejoiceWindow@yeah.com","commits":4}]},"readingTime":{"minutes":9.49,"words":2847},"filePathRelative":"OS/Linux/Linux命令.md","localizedDate":"2023年8月9日","excerpt":"<h2>linux shell 时间格式化</h2>\\n<div class=\\"language-shell line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"shell\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">date</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> \\"+%Y-%m-%d %H:%M:%S\\"</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}`);export{p as comp,k as data};
