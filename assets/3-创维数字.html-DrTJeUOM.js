import{_ as i}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as n,o as l}from"./app-DIMvcjhy.js";const e={};function p(h,s){return l(),a("div",null,s[0]||(s[0]=[n(`<h2 id="主要是做显示屏是吗-拿到新项目是怎样开发的" tabindex="-1"><a class="header-anchor" href="#主要是做显示屏是吗-拿到新项目是怎样开发的"><span>主要是做显示屏是吗？拿到新项目是怎样开发的？</span></a></h2><h2 id="软件开发步骤-分模块做的吧-一般怎么做的" tabindex="-1"><a class="header-anchor" href="#软件开发步骤-分模块做的吧-一般怎么做的"><span>软件开发步骤，分模块做的吧，一般怎么做的？</span></a></h2><h2 id="有参与哪些模块吗" tabindex="-1"><a class="header-anchor" href="#有参与哪些模块吗"><span>有参与哪些模块吗？</span></a></h2><h2 id="调光与主机是如何通信的" tabindex="-1"><a class="header-anchor" href="#调光与主机是如何通信的"><span>调光与主机是如何通信的？</span></a></h2><h2 id="解串器是怎么配置的" tabindex="-1"><a class="header-anchor" href="#解串器是怎么配置的"><span>解串器是怎么配置的？</span></a></h2><h2 id="有没有遇到过983和984iic通信异常" tabindex="-1"><a class="header-anchor" href="#有没有遇到过983和984iic通信异常"><span>有没有遇到过983和984IIC通信异常？</span></a></h2><h2 id="为什么会出现优先级翻转、低优先级在高优先级前面执行" tabindex="-1"><a class="header-anchor" href="#为什么会出现优先级翻转、低优先级在高优先级前面执行"><span>为什么会出现优先级翻转、低优先级在高优先级前面执行？</span></a></h2><h2 id="用的什么os" tabindex="-1"><a class="header-anchor" href="#用的什么os"><span>用的什么OS？</span></a></h2><h2 id="显示屏有哪些模块" tabindex="-1"><a class="header-anchor" href="#显示屏有哪些模块"><span>显示屏有哪些模块？</span></a></h2><h2 id="诊断是怎么做的" tabindex="-1"><a class="header-anchor" href="#诊断是怎么做的"><span>诊断是怎么做的？</span></a></h2><h2 id="触摸帧格式是怎么样的" tabindex="-1"><a class="header-anchor" href="#触摸帧格式是怎么样的"><span>触摸帧格式是怎么样的？</span></a></h2><h2 id="跟主机的通信格式是怎么样的" tabindex="-1"><a class="header-anchor" href="#跟主机的通信格式是怎么样的"><span>跟主机的通信格式是怎么样的？</span></a></h2><h2 id="_10个手指都是一条命令传过去的吗" tabindex="-1"><a class="header-anchor" href="#_10个手指都是一条命令传过去的吗"><span>10个手指都是一条命令传过去的吗？</span></a></h2><h2 id="_10个手指一共是多少字节-dtc有多少字节" tabindex="-1"><a class="header-anchor" href="#_10个手指一共是多少字节-dtc有多少字节"><span>10个手指一共是多少字节，DTC有多少字节？</span></a></h2><h2 id="tp拉诊断-其他数据是通过主机来读" tabindex="-1"><a class="header-anchor" href="#tp拉诊断-其他数据是通过主机来读"><span>TP拉诊断，其他数据是通过主机来读？</span></a></h2><h2 id="iic命令频繁-设置的速率是多少" tabindex="-1"><a class="header-anchor" href="#iic命令频繁-设置的速率是多少"><span>IIC命令频繁，设置的速率是多少？</span></a></h2><h2 id="实际是多少-看过吗-应该达不到400k吧" tabindex="-1"><a class="header-anchor" href="#实际是多少-看过吗-应该达不到400k吧"><span>实际是多少，看过吗？应该达不到400k吧？</span></a></h2><h2 id="有光感" tabindex="-1"><a class="header-anchor" href="#有光感"><span>有光感？</span></a></h2><h2 id="光感调光是怎么做的" tabindex="-1"><a class="header-anchor" href="#光感调光是怎么做的"><span>光感调光是怎么做的？</span></a></h2><h2 id="像pwm的底层硬件是怎么实现调光的" tabindex="-1"><a class="header-anchor" href="#像pwm的底层硬件是怎么实现调光的"><span>像PWM的底层硬件是怎么实现调光的？</span></a></h2><h2 id="mcu的pwm是怎么实现不同占空比的" tabindex="-1"><a class="header-anchor" href="#mcu的pwm是怎么实现不同占空比的"><span>MCU的PWM是怎么实现不同占空比的？</span></a></h2><h2 id="知道adc的原理吗" tabindex="-1"><a class="header-anchor" href="#知道adc的原理吗"><span>知道ADC的原理吗？</span></a></h2><h2 id="adc采集的值是怎么出来的" tabindex="-1"><a class="header-anchor" href="#adc采集的值是怎么出来的"><span>ADC采集的值是怎么出来的？</span></a></h2><h2 id="数字量代表多少是怎么算出来的-比如采集到800-怎么算出电压是多少" tabindex="-1"><a class="header-anchor" href="#数字量代表多少是怎么算出来的-比如采集到800-怎么算出电压是多少"><span>数字量代表多少是怎么算出来的？比如采集到800，怎么算出电压是多少？</span></a></h2><h2 id="iic的格式" tabindex="-1"><a class="header-anchor" href="#iic的格式"><span>IIC的格式？</span></a></h2><h2 id="起始、停止的电平状态是怎么样" tabindex="-1"><a class="header-anchor" href="#起始、停止的电平状态是怎么样"><span>起始、停止的电平状态是怎么样？</span></a></h2><h2 id="spi用过吗-有什么特点" tabindex="-1"><a class="header-anchor" href="#spi用过吗-有什么特点"><span>SPI用过吗？有什么特点？</span></a></h2><h2 id="spi有4个相位-知道是什么意思吗" tabindex="-1"><a class="header-anchor" href="#spi有4个相位-知道是什么意思吗"><span>SPI有4个相位，知道是什么意思吗？</span></a></h2><h2 id="芯旺微有开代码优化吗" tabindex="-1"><a class="header-anchor" href="#芯旺微有开代码优化吗"><span>芯旺微有开代码优化吗？</span></a></h2><h2 id="升级是怎么做的" tabindex="-1"><a class="header-anchor" href="#升级是怎么做的"><span>升级是怎么做的？</span></a></h2><h2 id="切换分区做哪些操作" tabindex="-1"><a class="header-anchor" href="#切换分区做哪些操作"><span>切换分区做哪些操作？</span></a></h2><h2 id="a分区跟b分区的程序是一样的吗-怎么设计的呢" tabindex="-1"><a class="header-anchor" href="#a分区跟b分区的程序是一样的吗-怎么设计的呢"><span>A分区跟B分区的程序是一样的吗？怎么设计的呢？</span></a></h2><h2 id="平常调试有哪些手段" tabindex="-1"><a class="header-anchor" href="#平常调试有哪些手段"><span>平常调试有哪些手段？</span></a></h2><h2 id="有遇到过死机问题吗" tabindex="-1"><a class="header-anchor" href="#有遇到过死机问题吗"><span>有遇到过死机问题吗？</span></a></h2><h2 id="怎么出现程序跑飞的呢" tabindex="-1"><a class="header-anchor" href="#怎么出现程序跑飞的呢"><span>怎么出现程序跑飞的呢？</span></a></h2><h2 id="知道位、bit吗-一个char-占多少位-char-指针呢" tabindex="-1"><a class="header-anchor" href="#知道位、bit吗-一个char-占多少位-char-指针呢"><span>知道位、bit吗？一个char 占多少位，char 指针呢？</span></a></h2><h2 id="软件上面设计全局数组、1024字节-3个地方赋值123-查看内存时-发现有个4-怎么去排查" tabindex="-1"><a class="header-anchor" href="#软件上面设计全局数组、1024字节-3个地方赋值123-查看内存时-发现有个4-怎么去排查"><span>软件上面设计全局数组、1024字节，3个地方赋值123，查看内存时，发现有个4，怎么去排查？</span></a></h2><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ### **逐步排查与解决方案**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **1. 确认内存布局与访问范围**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **使用调试器查看数组地址范围**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      通过GDB或LLDB获取全局数组的起始地址及大小：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (gdb) p &amp;global_array</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      $1 = (char (*)[1024]) 0x555555558040 &lt;global_array&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (gdb) p sizeof(global_array)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      $2 = 1024</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - 确认出现异常的地址是否在数组范围内  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - 若在范围内 → 检查越界或逻辑错误  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        - 若超出范围 → 检查数组外溢问题  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **2. 定位非法写入点**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **方法1：动态内存断点**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      在异常地址设置硬件写断点：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      (gdb) watch *(char*)0x555555558144  # 假设异常地址为0x555555558144</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      当该地址被修改时，GDB将中断并显示调用栈。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **方法2：代码插桩跟踪**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      在所有数组访问点添加日志：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      #define WRITE_LOG(index, val) \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        printf(&quot;[%s] Writing %d to index %d\\n&quot;, __func__, val, index); \\</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        global_array[index] = val;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      // 修改所有赋值操作为：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      WRITE_LOG(100, 123);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      WRITE_LOG(200, 123);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      WRITE_LOG(300, 123);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **3. 静态代码分析**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **使用Valgrind检测内存错误**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      valgrind --tool=memcheck --track-origins=yes ./your_program</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - 重点关注以下输出：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        \`\`\`text</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ==12345== Invalid write of size 1</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ==12345==    at 0x109234: func_a (main.c:45)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ==12345==  Address 0x555555558144 is 260 bytes inside global array[1024]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **Clang静态分析器扫描**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      clang --analyze -Xanalyzer -analyzer-output=text main.c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      检查报告的越界访问警告。</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **4. 多线程竞态检测**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **ThreadSanitizer检测数据竞争**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      编译时启用TSAN：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      gcc -fsanitize=thread -g -o test test.c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      ./test</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      典型输出：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`text</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      WARNING: ThreadSanitizer: data race (pid=6789)</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      Write of size 1 at 0x555555558144 by thread T2:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        #0 func_b main.c:78</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      Previous write of size 1 at 0x555555558144 by thread T1:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        #0 func_a main.c:65</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **5. 典型错误场景复现与修复**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    **场景1：指针算术错误**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    void process_data(int offset) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        char *ptr = global_array + offset;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        for(int i=0; i&lt;100; i++) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            *(ptr++) = 123;  // 当offset=900时，ptr将越界</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    **修复方案**：  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    void process_data(int offset) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        if(offset &lt; 0 || offset &gt; 1024-100) return; // 边界检查</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        char *ptr = global_array + offset;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        for(int i=0; i&lt;100; i++) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">            ptr[i] = 123;  // 使用索引代替指针递增</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    **场景2：多线程未同步访问**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // 线程A</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    void *thread_a(void *arg) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        global_array[300] = 123;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        return NULL;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // 线程B</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    void *thread_b(void *arg) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        global_array[300] = 4; // 竞态写入</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        return NULL;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    **修复方案**：  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    pthread_mutex_t array_mutex = PTHREAD_MUTEX_INITIALIZER;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    void safe_write(int index, int val) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        pthread_mutex_lock(&amp;array_mutex);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        global_array[index] = val;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        pthread_mutex_unlock(&amp;array_mutex);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **6. 内存可视化验证**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    使用GDB直接查看内存内容：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    (gdb) x/1024bx global_array  # 以十六进制打印整个数组</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    0x555555558040: 0x00 0x00 ... 0x7b 0x7b ... 0x04 ... 0x7b</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    标记异常值的位置（如偏移量324处的0x04），反向计算索引：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // 假设数组起始地址为0x555555558040</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    // 异常地址0x555555558144的偏移量 = 0x144 - 0x40 = 260字节</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    int error_index = 260;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    #### **7. 防御性编程加固**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **添加运行时边界检查**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      #define ARRAY_SIZE 1024</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      char global_array[ARRAY_SIZE];</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      void safe_array_write(int index, char value) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          if(index &gt;= 0 &amp;&amp; index &lt; ARRAY_SIZE) {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              global_array[index] = value;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          } else {</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">              log_error(&quot;Invalid index %d&quot;, index);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">          }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      }</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    - **启用编译时保护**  </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      GCC选项检测简单越界：</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`bash</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      gcc -fsanitize=bounds-strict -o test test.c</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ---</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    ### **总结排查路线图**</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`mermaid</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    graph TD</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        A[发现异常值4] --&gt; B{检查内存地址}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        B --&gt;|在数组内| C[代码审查+动态调试]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        B --&gt;|在数组外| D[检查内存溢出]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        C --&gt; E[使用GDB断点/TSAN]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        D --&gt; F[Valgrind检测]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        E --&gt; G{定位到具体代码行}</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        F --&gt; G</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        G --&gt; H[修正越界/竞态问题]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        H --&gt; I[验证修复效果]</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    \`\`\`</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    </span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    通过系统化的工具链配合代码审查，可精准定位非法写入点。建议在嵌入式开发中启用\`-Warray-bounds\`编译警告，并定期使用静态分析工具进行代码质量扫描。</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>显示屏是怎么测试的？</li><li>主机很有限的，没有主机的时候是怎么测试的？</li><li>测试板用的哪个方案做的？</li><li>STM32能输出画面吗？</li><li>软件流程是自动化的吗？Jenkins做做什么用？</li><li>aspice 有什么流程吗？</li><li>代码管理用什么工具？</li></ul>`,39)]))}const t=i(e,[["render",p]]),k=JSON.parse('{"path":"/interview/3-%E5%88%9B%E7%BB%B4%E6%95%B0%E5%AD%97.html","title":"创维数字","lang":"zh-CN","frontmatter":{"lang":"zh-CN","title":"创维数字","category":["interview"],"description":"主要是做显示屏是吗？拿到新项目是怎样开发的？ 软件开发步骤，分模块做的吧，一般怎么做的？ 有参与哪些模块吗？ 调光与主机是如何通信的？ 解串器是怎么配置的？ 有没有遇到过983和984IIC通信异常？ 为什么会出现优先级翻转、低优先级在高优先级前面执行？ 用的什么OS？ 显示屏有哪些模块？ 诊断是怎么做的？ 触摸帧格式是怎么样的？ 跟主机的通信格式是怎...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"创维数字\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-04-29T07:17:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://gitee.com/re-wi\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://github.com/Re-Wi/\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"RejoiceWindow\\"}]}"],["meta",{"property":"og:url","content":"https://em.rewi.xyz/interview/3-%E5%88%9B%E7%BB%B4%E6%95%B0%E5%AD%97.html"}],["meta",{"property":"og:site_name","content":"EmbedReWi"}],["meta",{"property":"og:title","content":"创维数字"}],["meta",{"property":"og:description","content":"主要是做显示屏是吗？拿到新项目是怎样开发的？ 软件开发步骤，分模块做的吧，一般怎么做的？ 有参与哪些模块吗？ 调光与主机是如何通信的？ 解串器是怎么配置的？ 有没有遇到过983和984IIC通信异常？ 为什么会出现优先级翻转、低优先级在高优先级前面执行？ 用的什么OS？ 显示屏有哪些模块？ 诊断是怎么做的？ 触摸帧格式是怎么样的？ 跟主机的通信格式是怎..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-29T07:17:06.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-29T07:17:06.000Z"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://em.rewi.xyz/rss.xml","title":"EmbedReWi RSS Feed"}]]},"git":{"createdTime":1745719911000,"updatedTime":1745911026000,"contributors":[{"name":"ReWi","username":"","email":"RejoiceWindow@yeah.net","commits":2}]},"readingTime":{"minutes":4.74,"words":1422},"filePathRelative":"interview/3-创维数字.md","localizedDate":"2025年4月27日","excerpt":"<h2>主要是做显示屏是吗？拿到新项目是怎样开发的？</h2>\\n<h2>软件开发步骤，分模块做的吧，一般怎么做的？</h2>\\n<h2>有参与哪些模块吗？</h2>\\n<h2>调光与主机是如何通信的？</h2>\\n<h2>解串器是怎么配置的？</h2>\\n<h2>有没有遇到过983和984IIC通信异常？</h2>\\n<h2>为什么会出现优先级翻转、低优先级在高优先级前面执行？</h2>\\n<h2>用的什么OS？</h2>\\n<h2>显示屏有哪些模块？</h2>\\n<h2>诊断是怎么做的？</h2>\\n<h2>触摸帧格式是怎么样的？</h2>\\n<h2>跟主机的通信格式是怎么样的？</h2>\\n<h2>10个手指都是一条命令传过去的吗？</h2>","autoDesc":true}');export{t as comp,k as data};
