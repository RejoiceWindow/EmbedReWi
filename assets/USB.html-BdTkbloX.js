import{_ as o}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as r,d as n,o as e}from"./app-DIMvcjhy.js";const s={};function i(l,t){return e(),r("div",null,t[0]||(t[0]=[n('<p>USB **主设备（Host）<strong>和</strong>从设备（Device）**是USB通信架构中的两类核心角色，它们定义了数据传输的控制权与功能分工。以下是详细解析：</p><hr><h2 id="核心定义" tabindex="-1"><a class="header-anchor" href="#核心定义"><span><strong>核心定义</strong></span></a></h2><ol><li><p><strong>主设备（Host）</strong>：</p><ul><li><strong>控制者</strong>：负责发起和管理所有USB通信，主导数据传输流程。</li><li><strong>供电者</strong>：通常为连接的从设备提供电源（5V/500mA，USB 2.0标准）。</li><li><strong>典型设备</strong>：电脑、手机（通过USB OTG模式充当Host）、智能电视的USB接口。</li></ul></li><li><p><strong>从设备（Device）</strong>：</p><ul><li><strong>响应者</strong>：被动接收主设备的指令，仅在主设备发起请求时传输数据。</li><li><strong>受电者</strong>：依赖主设备供电（如U盘、键盘），或自带电源（如打印机）。</li><li><strong>典型设备</strong>：鼠标、U盘、摄像头、外置硬盘。</li></ul></li></ol><hr><h2 id="技术特性对比" tabindex="-1"><a class="header-anchor" href="#技术特性对比"><span><strong>技术特性对比</strong></span></a></h2><table><thead><tr><th><strong>特性</strong></th><th><strong>主设备（Host）</strong></th><th><strong>从设备（Device）</strong></th></tr></thead><tbody><tr><td><strong>通信控制权</strong></td><td>发起所有数据传输请求</td><td>仅响应主设备请求</td></tr><tr><td><strong>供电能力</strong></td><td>提供电源（VBUS）</td><td>接收电源（或自供电）</td></tr><tr><td><strong>硬件设计</strong></td><td>需实现Host控制器（如EHCI、xHCI）</td><td>需实现Device控制器（如USB IP核）</td></tr><tr><td><strong>协议角色</strong></td><td>管理总线枚举、分配地址、配置设备</td><td>上报描述符、响应配置请求</td></tr><tr><td><strong>典型接口芯片</strong></td><td>USB Host芯片（如TUSB7340）</td><td>USB Device芯片（如FT232、CP2102）</td></tr></tbody></table><hr><h2 id="关键概念扩展" tabindex="-1"><a class="header-anchor" href="#关键概念扩展"><span><strong>关键概念扩展</strong></span></a></h2><ol><li><p><strong>USB OTG（On-The-Go）</strong>：</p><ul><li><strong>双角色设备</strong>：允许设备（如手机）根据场景切换<strong>Host</strong>和<strong>Device</strong>模式。</li><li><strong>应用场景</strong>： <ul><li>手机作为Host：连接U盘读取文件。</li><li>手机作为Device：通过USB线连接电脑传输数据。</li></ul></li></ul></li><li><p><strong>复合设备（Composite Device）</strong>：</p><ul><li>一个从设备可包含多个功能（如键盘+触摸板），但通信控制权仍属于主设备。</li></ul></li><li><p><strong>USB拓扑结构</strong>：</p><ul><li>USB采用<strong>星型拓扑</strong>，主设备是根节点，通过集线器（Hub）扩展连接多个从设备。</li></ul></li></ol><hr><h2 id="开发与设计要点" tabindex="-1"><a class="header-anchor" href="#开发与设计要点"><span><strong>开发与设计要点</strong></span></a></h2><ol><li><p><strong>主设备开发</strong>：</p><ul><li>需实现USB Host协议栈，支持设备枚举、驱动加载（如Linux的<code>usb-storage</code>驱动）。</li><li>例：嵌入式Linux系统中，通过USB Host接口连接摄像头并调用V4L2驱动。</li></ul></li><li><p><strong>从设备开发</strong>：</p><ul><li>需定义设备的<strong>描述符</strong>（Device Descriptor、Endpoint Descriptor等），并实现数据传输逻辑。</li><li>例：STM32微控制器通过USB Device模式模拟U盘或虚拟串口。</li></ul></li><li><p><strong>调试工具</strong>：</p><ul><li><strong>USB协议分析仪</strong>：捕获Host与Device间的交互数据包（如控制传输的SETUP阶段）。</li><li><strong>逻辑分析仪</strong>：观察USB D+/D-信号线的电气特性。</li></ul></li></ol><hr><h2 id="示例场景" tabindex="-1"><a class="header-anchor" href="#示例场景"><span><strong>示例场景</strong></span></a></h2><ol><li><strong>手机连接U盘</strong>： <ul><li>手机（Host）向U盘（Device）发送SCSI指令读取文件。</li></ul></li><li><strong>PC外接打印机</strong>： <ul><li>PC（Host）通过USB向打印机（Device）发送打印任务，打印机返回状态信息。</li></ul></li></ol><hr><h2 id="常见误区" tabindex="-1"><a class="header-anchor" href="#常见误区"><span><strong>常见误区</strong></span></a></h2><ul><li><strong>“主从设备” ≠ “主从机”</strong>：在USB规范中，术语为Host和Device，而非“主/从机”。</li><li><strong>USB线序</strong>：Host和Device的USB接口线序可能不同（如ID引脚在OTG中用于角色检测）。</li></ul><hr><p><strong>总结</strong>：<br> USB <strong>主设备</strong>和<strong>从设备</strong>通过明确的角色分工构建了USB通信的基础。</p><ul><li><strong>Host</strong>是控制中心，负责总线管理；</li><li><strong>Device</strong>是功能实现者，专注于数据交互。<br> 理解二者的差异是设计USB系统、开发驱动或固件的前提，尤其在嵌入式系统和OTG场景中至关重要。</li></ul>',22)]))}const p=o(s,[["render",i]]),d=JSON.parse('{"path":"/protocol/USB.html","title":"USB","lang":"zh-CN","frontmatter":{"title":"USB","description":"USB（Universal Serial Bus，通用串行总线）","date":"2025-05-08T14:38:00.000Z","icon":"ic:outline-usb","tag":["USB"],"category":["protocol"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"USB\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-05-08T14:38:00.000Z\\",\\"dateModified\\":\\"2025-05-25T01:18:33.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://gitee.com/re-wi\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://github.com/Re-Wi/\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"RejoiceWindow\\"}]}"],["meta",{"property":"og:url","content":"https://em.rewi.xyz/protocol/USB.html"}],["meta",{"property":"og:site_name","content":"EmbedReWi"}],["meta",{"property":"og:title","content":"USB"}],["meta",{"property":"og:description","content":"USB（Universal Serial Bus，通用串行总线）"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-05-25T01:18:33.000Z"}],["meta",{"property":"article:tag","content":"USB"}],["meta",{"property":"article:published_time","content":"2025-05-08T14:38:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-05-25T01:18:33.000Z"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://em.rewi.xyz/rss.xml","title":"EmbedReWi RSS Feed"}]]},"git":{"createdTime":1748135913000,"updatedTime":1748135913000,"contributors":[{"name":"ReWi","username":"","email":"RejoiceWindow@yeah.net","commits":1}]},"readingTime":{"minutes":2.9,"words":869},"filePathRelative":"protocol/USB.md","localizedDate":"2025年5月8日","excerpt":"<p>USB **主设备（Host）<strong>和</strong>从设备（Device）**是USB通信架构中的两类核心角色，它们定义了数据传输的控制权与功能分工。以下是详细解析：</p>\\n<hr>\\n<h2><strong>核心定义</strong></h2>\\n<ol>\\n<li>\\n<p><strong>主设备（Host）</strong>：</p>\\n<ul>\\n<li><strong>控制者</strong>：负责发起和管理所有USB通信，主导数据传输流程。</li>\\n<li><strong>供电者</strong>：通常为连接的从设备提供电源（5V/500mA，USB 2.0标准）。</li>\\n<li><strong>典型设备</strong>：电脑、手机（通过USB OTG模式充当Host）、智能电视的USB接口。</li>\\n</ul>\\n</li>\\n<li>\\n<p><strong>从设备（Device）</strong>：</p>\\n<ul>\\n<li><strong>响应者</strong>：被动接收主设备的指令，仅在主设备发起请求时传输数据。</li>\\n<li><strong>受电者</strong>：依赖主设备供电（如U盘、键盘），或自带电源（如打印机）。</li>\\n<li><strong>典型设备</strong>：鼠标、U盘、摄像头、外置硬盘。</li>\\n</ul>\\n</li>\\n</ol>"}');export{p as comp,d as data};
