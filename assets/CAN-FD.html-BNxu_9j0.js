import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as a,d as r,o as l}from"./app-DIMvcjhy.js";const i={};function o(n,t){return l(),a("div",null,t[0]||(t[0]=[r('<h2 id="协议简介" tabindex="-1"><a class="header-anchor" href="#协议简介"><span><strong>协议简介</strong></span></a></h2><p><strong>CAN FD（Controller Area Network with Flexible Data Rate）</strong> 。</p><p>CAN FD（Controller Area Network Flexible Data-Rate）是传统CAN（Controller Area Network）协议的改进版本，主要特点是提高了数据传输速率和数据帧的容量。</p><p>提供了更高的带宽和更大的数据传输灵活性。</p><p>随着汽车电子功能的不断丰富，对数据传输带宽的需求日益增加。传统 <strong>CAN 总线</strong>由于其数据长度和速率限制，逐渐无法满足现代车载网络的高性能要求。</p><p>为此，推出了 <strong>CAN FD</strong>（全称：<em>CAN with Flexible Data rate</em>），它是对经典 CAN 协议的重大升级，保留了原有 CAN 的核心特性，同时在以下方面进行了增强：</p><ul><li>提高了通信带宽</li><li>支持更长的数据负载</li></ul><p>🔸 <strong>标准化历程</strong>：</p><ul><li>2011 年开始开发</li><li>2015 年被正式纳入国际标准 <strong>ISO 11898-1</strong></li></ul><hr><h2 id="协议特点" tabindex="-1"><a class="header-anchor" href="#协议特点"><span><strong>协议特点</strong></span></a></h2><h3 id="✅-1-可变速率传输-flexible-data-rate" tabindex="-1"><a class="header-anchor" href="#✅-1-可变速率传输-flexible-data-rate"><span>✅ 1. 可变速率传输（Flexible Data Rate）</span></a></h3><p>允许在整个帧中使用两种不同的传输速率：仲裁阶段和数据阶段。</p><ul><li>在帧的某些部分（从控制场中的 <strong>BRS</strong> 位到 ACK 场前，含 CRC 分界符）采用更高的波特率。</li><li>最高速率可达 <strong>8 Mbps</strong>。</li><li>帧的其余部分仍使用标准速率（与传统 CAN 兼容）。</li></ul><p>双速率机制：</p><ul><li>仲裁阶段（Arbitration Phase）：与传统CAN相同，通常速率较低，以确保兼容性和可靠的总线访问控制。</li><li>数据阶段（Data Phase）：传输实际数据，可以使用更高的速率，以加快数据传输。</li></ul><h3 id="✅-2-更大数据长度支持" tabindex="-1"><a class="header-anchor" href="#✅-2-更大数据长度支持"><span>✅ 2. 更大数据长度支持</span></a></h3><ul><li>经典 CAN 每帧最多支持 <strong>8 字节数据</strong></li><li>CAN FD 每帧最多可支持 <strong>64 字节数据</strong></li><li>显著提升单次通信的数据吞吐量</li></ul><h3 id="✅-3-新增控制位-改进帧格式" tabindex="-1"><a class="header-anchor" href="#✅-3-新增控制位-改进帧格式"><span>✅ 3. 新增控制位（改进帧格式）</span></a></h3><p>CAN FD 对帧结构进行了扩展，新增了以下字段：</p><table><thead><tr><th>控制位</th><th>含义</th></tr></thead><tbody><tr><td><strong>FDF</strong>（FD Format）</td><td>表示该帧是否为 CAN FD 格式</td></tr><tr><td><strong>BRS</strong>（Bit Rate Switch）</td><td>是否切换至更高比特率进行数据段传输</td></tr><tr><td><strong>ESI</strong>（Error State Indicator）</td><td>指示发送节点的错误状态（主动/被动）</td></tr></tbody></table><hr><h2 id="✅-优势总结" tabindex="-1"><a class="header-anchor" href="#✅-优势总结"><span>✅ 优势总结</span></a></h2><table><thead><tr><th>特性</th><th>经典 CAN</th><th>CAN FD</th></tr></thead><tbody><tr><td>数据长度</td><td>最大 8 字节</td><td>最大 64 字节</td></tr><tr><td>最高速率</td><td>1 Mbps</td><td>高达 8 Mbps（可变）</td></tr><tr><td>帧格式</td><td>固定格式</td><td>新增 FDF、BRS、ESI 等字段</td></tr><tr><td>兼容性</td><td>-</td><td>完全兼容传统 CAN 节点</td></tr><tr><td>数据帧</td><td>数据帧长度最大为8字节</td><td>数据帧长度可以达到64字节</td></tr></tbody></table><hr><h2 id="✅-应用场景" tabindex="-1"><a class="header-anchor" href="#✅-应用场景"><span>✅ 应用场景</span></a></h2><ul><li><strong>高级驾驶辅助系统（ADAS）</strong></li><li><strong>车载以太网过渡方案</strong></li><li><strong>远程诊断、OTA 更新等大数据传输需求</strong></li><li><strong>新能源汽车电池管理系统（BMS）</strong></li></ul><p>CAN FD（Controller Area Network Flexible Data-Rate）是传统CAN（Controller Area Network）协议的改进版本，主要特点是提高了数据传输速率和数据帧的容量。CAN FD在汽车和工业应用中被广泛采用，因为它提供了更高的带宽和更大的数据传输灵活性。</p><h3 id="can-fd-的主要特点" tabindex="-1"><a class="header-anchor" href="#can-fd-的主要特点"><span>CAN FD 的主要特点</span></a></h3><ol><li><p><strong>更高的传输速率</strong>：</p><ul><li>传统CAN的最大传输速率为1 Mbps，而CAN FD可以达到8 Mbps甚至更高。</li></ul></li><li><p><strong>更大的数据帧</strong>：</p><ul><li>传统CAN的数据帧长度最大为8字节，而CAN FD的数据帧长度可以达到64字节。</li></ul></li><li><p><strong>灵活的数据速率</strong>：</p><ul><li>CAN FD允许在一个帧的不同部分使用不同的传输速率，从而优化传输性能。</li></ul></li></ol><h3 id="在canoe中配置can-fd" tabindex="-1"><a class="header-anchor" href="#在canoe中配置can-fd"><span>在CANoe中配置CAN FD</span></a></h3><p>要在CANoe中配置和使用CAN FD，需要按照以下步骤进行设置：</p><h4 id="_1-创建can-fd网络" tabindex="-1"><a class="header-anchor" href="#_1-创建can-fd网络"><span>1. 创建CAN FD网络</span></a></h4><ul><li>打开CANoe软件，创建一个新的CANoe配置文件或打开现有配置文件。</li><li>在网络节点（Network Nodes）窗口中添加一个新的CAN FD网络节点。</li></ul><h4 id="_2-配置can-fd总线参数" tabindex="-1"><a class="header-anchor" href="#_2-配置can-fd总线参数"><span>2. 配置CAN FD总线参数</span></a></h4><ul><li>在网络节点窗口中选择新创建的CAN FD节点，右键点击并选择“Properties”（属性）。</li><li>在属性窗口中，选择“CAN Bus Parameters”（CAN总线参数）选项卡。 <ul><li>设置“Arbitration Bit Rate”（仲裁位速率）：例如1 Mbps。</li><li>设置“Data Bit Rate”（数据位速率）：例如2 Mbps或更高。</li><li>设置“Sample Point”（采样点）和其他与总线相关的参数。</li></ul></li></ul><h4 id="_3-添加can-fd消息" tabindex="-1"><a class="header-anchor" href="#_3-添加can-fd消息"><span>3. 添加CAN FD消息</span></a></h4><ul><li>在CANoe的“Database Editor”（数据库编辑器）中，打开相关的CAN数据库文件（.dbc文件）。</li><li>在数据库中添加新的CAN FD消息。 <ul><li>设置消息ID、名称和DLC（Data Length Code，数据长度代码）。</li><li>添加信号并设置其属性（例如，起始位、长度、缩放和偏移量等）。</li></ul></li></ul><h4 id="_4-配置发送和接收节点" tabindex="-1"><a class="header-anchor" href="#_4-配置发送和接收节点"><span>4. 配置发送和接收节点</span></a></h4><ul><li>在CANoe配置窗口中，添加发送和接收节点。 <ul><li>在发送节点中，编写CAPL（CAN Access Programming Language）脚本或使用图形界面定义发送CAN FD消息的逻辑。</li><li>在接收节点中，编写CAPL脚本或使用图形界面定义接收和处理CAN FD消息的逻辑。</li></ul></li></ul><h4 id="_5-设置can-fd网络仿真" tabindex="-1"><a class="header-anchor" href="#_5-设置can-fd网络仿真"><span>5. 设置CAN FD网络仿真</span></a></h4><ul><li>配置CANoe的仿真参数以支持CAN FD网络。 <ul><li>在“Simulation Setup”（仿真设置）窗口中，添加一个新的CAN FD仿真节点。</li><li>设置仿真节点的属性，使其能够仿真CAN FD总线的行为。</li></ul></li></ul><h4 id="_6-运行和监控仿真" tabindex="-1"><a class="header-anchor" href="#_6-运行和监控仿真"><span>6. 运行和监控仿真</span></a></h4><ul><li>启动CANoe仿真，运行CAPL脚本或监控界面。</li><li>使用CANoe的Trace窗口监控CAN FD消息的发送和接收。 <ul><li>验证CAN FD消息的格式和内容是否符合预期。</li></ul></li></ul><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><p>通过在CANoe中配置CAN FD，可以有效地测试和验证使用CAN FD协议的嵌入式系统。在配置过程中，确保正确设置总线参数、添加和配置CAN FD消息以及编写必要的CAPL脚本，以实现仿真和测试需求。</p>',46)]))}const p=e(i,[["render",o]]),h=JSON.parse('{"path":"/protocol/CAN-FD.html","title":"CAN-FD","lang":"zh-CN","frontmatter":{"title":"CAN-FD","description":"CAN FD（Controller Area Network with Flexible Data Rate）","date":"2025-04-29T14:58:00.000Z","icon":"mdi:local-area-network","tag":["CAN-FD"],"category":["protocol"],"head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"CAN-FD\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-04-29T14:58:00.000Z\\",\\"dateModified\\":\\"2025-04-29T07:17:06.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://gitee.com/re-wi\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"ReWi\\",\\"url\\":\\"https://github.com/Re-Wi/\\",\\"email\\":\\"RejoiceWindow@yeah.net\\"},{\\"@type\\":\\"Person\\",\\"name\\":\\"RejoiceWindow\\"}]}"],["meta",{"property":"og:url","content":"https://em.rewi.xyz/protocol/CAN-FD.html"}],["meta",{"property":"og:site_name","content":"EmbedReWi"}],["meta",{"property":"og:title","content":"CAN-FD"}],["meta",{"property":"og:description","content":"CAN FD（Controller Area Network with Flexible Data Rate）"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-04-29T07:17:06.000Z"}],["meta",{"property":"article:tag","content":"CAN-FD"}],["meta",{"property":"article:published_time","content":"2025-04-29T14:58:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-04-29T07:17:06.000Z"}],["link",{"rel":"alternate","type":"application/rss+xml","href":"https://em.rewi.xyz/rss.xml","title":"EmbedReWi RSS Feed"}]]},"git":{"createdTime":1745911026000,"updatedTime":1745911026000,"contributors":[{"name":"ReWi","username":"","email":"RejoiceWindow@yeah.net","commits":1}]},"readingTime":{"minutes":4.92,"words":1476},"filePathRelative":"protocol/CAN-FD.md","localizedDate":"2025年4月29日","excerpt":"<h2><strong>协议简介</strong></h2>\\n<p><strong>CAN FD（Controller Area Network with Flexible Data Rate）</strong> 。</p>\\n<p>CAN FD（Controller Area Network Flexible Data-Rate）是传统CAN（Controller Area Network）协议的改进版本，主要特点是提高了数据传输速率和数据帧的容量。</p>\\n<p>提供了更高的带宽和更大的数据传输灵活性。</p>\\n<p>随着汽车电子功能的不断丰富，对数据传输带宽的需求日益增加。传统 <strong>CAN 总线</strong>由于其数据长度和速率限制，逐渐无法满足现代车载网络的高性能要求。</p>"}');export{p as comp,h as data};
